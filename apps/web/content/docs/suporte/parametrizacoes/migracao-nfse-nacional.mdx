---
title: Configuração NFSe Padrão Nacional
description: Guia técnico para migração e parametrização da Nota Fiscal de Serviço Eletrônica Nacional no Syspro ERP.
---

import {
  ShoppingCart,
  Globe,
  Hash,
  FileText,
  Building,
  Database,
  ArrowUpRight,
  ArrowUpRightFromSquare,
  Search,
  BarChart2,
  MessagesSquare,
  Phone,
  Mail,
  Server,
  Laptop,
  Check,
} from "lucide-react";
import { Accordion, Accordions } from "fumadocs-ui/components/accordion";
import { Steps, Step } from "fumadocs-ui/components/steps";
import { Card, Cards } from "fumadocs-ui/components/card";
import { Callout } from "fumadocs-ui/components/callout";
import { CustomCard } from "@/components/CustomCard";
import SuporteSection from "@/components/docs/SuporteSection.tsx";

## Introdução

A implementação da NFSe Padrão Nacional no Syspro ERP visa unificar e simplificar o processo de emissão de notas fiscais de serviço em conformidade com as diretrizes federais. Esta funcionalidade é estratégica para garantir que a empresa esteja alinhada às novas exigências tributárias, facilitando a comunicação com o Webservice Nacional e assegurando a correta apuração do IBS e CBS.

A correta parametrização evita rejeições em ambiente de produção, organiza o cadastro de participantes e garante que a transição de séries e numerações de RPS ocorra de forma transparente e segura para a operação fiscal.

## Passo a Passo

Siga rigorosamente a sequência abaixo para configurar o sistema:

<Steps>
<Step>
### Permissões de Usuário

Acesse o módulo **PERFIL DE ACESSO** e libere o acesso ao **Grupo de Serviço** e ao **Grupo NBS** (dentro da categoria Produtos).

</Step>

<Step>
### Ajuste de Documento

No módulo **PERSONALIZAÇÃO DE DOCUMENTO**, localize as opções **EVD**, **EVP** E **ENP** e ajuste a série da NFSe para **01**.

</Step>

<Step>
### Ajuste de CEP dos Cadastros de Participantes

No módulo **PARTICIPANTE**, verifique a existência de CEPs genéricos (ex: 38300-000).

- Utilize o seguinte comando para identificar registros:  

```sql
SELECT * FROM PARTICIPANTE_END PE WHERE PE.CEP = '38300-000';
```

- Caso existam muitos registros, execute o script de atualização para vincular o CEP do participante ao CEP da empresa:

```sql
UPDATE PARTICIPANTE_END
SET CEP = (SELECT CEP FROM EMPRESA E JOIN PARTICIPANTE_END PE ON PE.ID_PARTICIPANTE = E.ID_PARTICIPANTE_EMP)
WHERE CEP = '38300-000';
```

</Step>

<Step>

### Configurações da Empresa

No módulo **EMPRESA**, realize as três alterações fundamentais:

1. Altere para **Webservice Nacional**.
2. Marque **NÃO** no campo **Enviar IM**.
3. Defina o **Regime Tributário** como **NENHUM**.

</Step>

<Step>

### Configuração de Produtos e NBS

No módulo **PRODUTO**, ajuste o **GRUPO DE SERVICO** para o novo padrão de 6 dígitos (exemplo: transformando 0407 em 040701).

- Ajuste o **GRUPO DE NBS** pesquisando pelo grupo de serviço e escolhendo a opção correspondente.
- Para atualizar os demais produtos do tipo serviço em lote, utilize o script de atualização.

```sql
UPDATE PRODUTO SET  
ID_GRUPO_SERVICO = ( SELECT P.ID_GRUPO_SERVICO FROM PRODUTO P WHERE P.CD_AUXILIAR = '02774'), 
ID_GRUPO_NBS     = ( SELECT P.ID_GRUPO_NBS     FROM PRODUTO P WHERE P.CD_AUXILIAR = '02774') 
WHERE TP_PRODUTO = '9' 
```

</Step>

<Step>

### Regras de Tributação (IBS/CBS)

No módulo **TRIBUTAÇÃO**, aplique a regra de que o NBS está para o serviço assim como o NCM está para o produto.

- Consulte o código (ex: 0407) para verificar a tributação referenciada.
- Caso não haja vínculo, será necessário rodar um script separado para inicializar o CST para IBS/CBS.

</Step>

<Step>

### Preparação de Lançamentos e RPS

Antes de iniciar a emissão, consulte no módulo **LANÇAMENTO** se já existem notas na série 1.

- Se houver notas antigas, altere a série delas para iniciar um novo ciclo.
- **Importante:** Para não "queimar" o número do RPS, execute o script abaixo antes de seguir para o teste final:

```sql
UPDATE LANCAMENTO L SET
    L.OBSERVACAO_NFSE = COALESCE(L.OBSERVACAO_NFSE,'') || '#' || L.NUMERO_RPS,
    L.NUMERO_RPS = NULL
WHERE L.SERIE = '1' AND L.NUMERO_RPS IS NOT NULL;

```

</Step>

<Step>

### Validação em Homologação

Finalize enviando uma NFSe de teste no ambiente de **homologação** para validar toda a configuração.

</Step>
</Steps>

## Perguntas Frequentes

<Accordions>
  <Accordion title="Por que devo mudar o Regime Tributário para 'NENHUM'?">
    No padrão nacional de NFSe, essa configuração é necessária para que o
    sistema não aplique regras legadas municipais que conflitem com o novo
    cálculo centralizado.
  </Accordion>
  <Accordion title="O que fazer se o script de tributação IBS/CBS não funcionar?">
    Isso geralmente ocorre se o sistema foi atualizado pulando a versão que
    inicializa esses campos. Entre em contato com o suporte para obter o script
    específico de inicialização de CST.
  </Accordion>
  <Accordion title="Posso emitir notas sem ajustar o Grupo NBS?">
    Não. O NBS é obrigatório para a NFSe Nacional, pois ele define a base de
    cálculo para os novos tributos (IBS/CBS).
  </Accordion>
</Accordions>

---

<SuporteSection modulo="Parametrizações de NFSe Nacional" />

---
